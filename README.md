# Lightning Network Visualizer

Bitcoin Lightning Network シミュレータ（CLOTH）の実行結果をインタラクティブに可視化するツールです。

## 機能

- 📊 **ネットワークグラフ可視化**: ペイメントに関連するノードとチャネルをグラフ表示
- ⏯️ **タイムライン制御**: ステップバイステップでペイメントの流れを追跡
- 📈 **統計表示**: 成功率、手数料、エラー数などの統計情報
- 🔍 **詳細パネル**: 各ペイメントの試行履歴、ルート詳細を確認

## インストール

```bash
cd ln-visualizer
npm install
```

## 使用方法

### 開発サーバーの起動

```bash
npm run dev
```

ブラウザで http://localhost:5173/ を開きます。

### 本番ビルド

```bash
npm run build
npm run preview
```

## データファイル

以下のCLOTHシミュレータ出力ファイルが必要です：

| ファイル | 説明 |
|---------|------|
| `nodes_output.csv` | ノード情報 |
| `channels_output.csv` | チャネル情報 |
| `edges_output.csv` | エッジ（方向付きチャネル）情報 |
| `payments_output.csv` | ペイメント結果 |
| `cloth_input.txt` | シミュレーション設定 |

## 操作方法

### キーボードショートカット

| キー | 機能 |
|------|------|
| `→` / `Space` | 次のステップ |
| `←` | 前のステップ |
| `Home` | 最初へ |
| `End` | 最後へ |

### グラフ操作

- **ズーム**: マウスホイール
- **パン**: ドラッグ
- **ノード選択**: クリック

### 色の意味

| 色 | 意味 |
|----|------|
| 🟢 緑 | 送金者ノード |
| 🟣 紫 | 受取者ノード |
| 🟡 黄 | アクティブなルート |
| 🔴 赤 | エラーが発生したエッジ |

## 技術スタック

- **React** - UIフレームワーク
- **TypeScript** - 型安全性
- **Vite** - ビルドツール
- **Cytoscape.js** - グラフ可視化
- **PapaParse** - CSV解析

## ライセンス

MIT
